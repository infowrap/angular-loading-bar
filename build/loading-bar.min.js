/*! 
 * angular-loading-bar v0.0.6
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2013 Wes Cruver
 * License: MIT
 */
!function(){"use strict";angular.module("chieffancypants.loadingBar",[]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","cfpLoadingBar",function(a,b,c){function d(){c.complete(),h=0,g=0}function e(a){return a&&a.url&&a.url.indexOf("json")>1?!0:!1}function f(a){var b=!0;return _.forEach(i,function(c){a.indexOf(c)>-1&&(b=!1)}),b}var g=0,h=0,i=c.excludeUrlParts||[];return{request:function(a){return e(a)&&f(a.url)&&(0===g&&c.start(),g++),a},response:function(a){return e(a.config)&&f(a.config.url)&&(h++,h>=g?d():c.set(h/g)),a},responseError:function(b){return e(b.config)&&f(b.config.url)&&(h++,h>=g?d():c.set(h/g)),a.reject(b)}}}];a.interceptors.push(b)}]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.parentSelector="body",this.excludeUrlParts=[],this.$get=["$document","$timeout","$animate","$rootScope",function(a,b,c,d){function e(){d.$broadcast("cfpLoadingBar:started"),q=!0,b.cancel(k),t&&c.enter(n,m),s&&c.enter(p,m),f(.02)}function f(a){if(q){var c=100*a+"%";o.css("width",c),r=a,b.cancel(j),j=b(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=h()+a;f(c)}}function h(){return r}function i(){d.$broadcast("cfpLoadingBar:completed"),f(1),k=b(function(){c.leave(n,function(){r=0,q=!1}),c.leave(p)},500)}var j,k,l=this.parentSelector,m=a.find(l),n=angular.element('<div id="loading-bar"><div class="bar"></div></div>'),o=n.find("div").eq(0),p=angular.element('<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>'),q=!1,r=0,s=this.includeSpinner,t=this.includeBar;return{start:e,set:f,status:h,inc:g,complete:i,includeSpinner:this.includeSpinner,parentSelector:this.parentSelector,excludeUrlParts:this.excludeUrlParts}}]})}();