/*! 
 * angular-loading-bar v0.6.0
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2014 Wes Cruver
 * License: MIT
 */
!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","cfpLoadingBar",function(a,b,c,d,e){function f(){c.cancel(i),e.complete(),k=0,j=0}function g(a){return a&&a.url&&a.url.indexOf("json")>1?!0:!1}function h(a){var b=!0;return _.forEach(l,function(c){a.indexOf(c)>-1&&(b=!1)}),b}var i,j=0,k=0,l=e.excludeUrlParts||[],m=e.latencyThreshold;return{request:function(a){return g(a)&&h(a.url)&&(0===j&&(i=c(function(){e.start()},m)),j++,e.set(k/j)),a},response:function(a){return g(a.config)&&h(a.config.url)&&(k++,k>=j?f():e.set(k/j)),a},responseError:function(b){return g(b.config)&&h(b.config.url)&&(k++,k>=j?f():e.set(k/j)),a.reject(b)}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.excludeUrlParts=[],this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c){function d(){j||(j=a.get("$animate"));var d=b.find(m).eq(0);c.cancel(l),q||(q=!0,t&&j.enter(n,d),s&&j.enter(p,d),e(u))}function e(a){if(q){var b=100*a+"%";o.css("width",b),r=a,c.cancel(k),k=c(function(){f()},250)}}function f(){if(!(g()>=1)){var a=0,b=g();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=g()+a;e(c)}}function g(){return r}function h(){r=0,q=!1}function i(){j||(j=a.get("$animate")),e(1),c.cancel(l),l=c(function(){var a=j.leave(n,h);a&&a.then&&a.then(h),j.leave(p)},500)}var j,k,l,m=this.parentSelector,n=angular.element(this.loadingBarTemplate),o=n.find("div").eq(0),p=angular.element(this.spinnerTemplate),q=!1,r=0,s=this.includeSpinner,t=this.includeBar,u=this.startSize;return{start:d,set:e,status:g,inc:f,complete:i,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize,excludeUrlParts:this.excludeUrlParts}}]})}();