/*! 
 * angular-loading-bar v0.0.4
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2013 Wes Cruver
 * License: MIT
 */
!function(){"use strict";angular.module("chieffancypants.loadingBar.config",[]).value("chieffancypants.loadingBar.config",{}),angular.module("chieffancypants.loadingBar",["chieffancypants.loadingBar.config"]).config(["$httpProvider",function(a){var b=["chieffancypants.loadingBar.config","$q","$cacheFactory","cfpLoadingBar",function(a,b,c,d){function e(){d.complete(),i=0,h=0}function f(a){return a&&a.url&&a.url.indexOf("json")>1?!0:!1}function g(a){var b=!0;return _.forEach(j,function(c){a.indexOf(c)>-1&&(b=!1)}),b}var h=0,i=0,j=a.excludeUrlParts||[];return{request:function(a){return f(a)&&g(a.url)&&(0===h&&d.start(),h++),a},response:function(a){return f(a.config)&&g(a.config.url)&&(i++,i===h?e():d.set(i/h)),a},responseError:function(a){return f(a.config)&&g(a.config.url)&&(i++,i===h?e():d.set(i/h)),b.reject(a)}}}];a.interceptors.push(b)}]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.parentSelector="body",this.$get=["$document","$timeout","$animate",function(a,b,c){function d(){p=!0,b.cancel(j),c.enter(m,l),r&&c.enter(o,l),e(.02)}function e(a){if(p){var c=100*a+"%";n.css("width",c),q=a,b.cancel(i),i=b(function(){f()},250)}}function f(){if(!(g()>=1)){var a=0,b=g();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=g()+a;e(c)}}function g(){return q}function h(){e(1),j=b(function(){c.leave(m,function(){q=0,p=!1}),c.leave(o)},500)}var i,j,k=this.parentSelector,l=a.find(k),m=angular.element('<div id="loading-bar"><div class="bar"></div></div>'),n=m.find("div").eq(0),o=angular.element('<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>'),p=!1,q=0,r=this.includeSpinner;return{start:d,set:e,status:g,inc:f,complete:h,includeSpinner:this.includeSpinner,parentSelector:this.parentSelector}}]})}();